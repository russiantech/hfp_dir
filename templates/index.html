{% extends "base.html" %}

{% block content %}

<!-- Carousel Start -->
<div class="container-fluid p-0">
    <div id="header-carousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="w-100 hero-small" src="{{ url_for('static', filename='assets/img/hero-small1.png') }}"
                    alt="Image">
                <img class="w-100 hero-big" src="{{ url_for('static', filename='assets/img/hero-big1.png') }}"
                    alt="Image">
                <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                    <div class="p-3" style="max-width: 900px;">
                        <h1 class="display-3 text-white mb-md-4 hero-text">HFP Business Directory</h1>
                        <a href="{{ url_for('register_business') }}" class="btn py-md-3 px-md-5 mt-2 btn-lg rounded"
                            style="background-color: #040450;color: white;">Get Started</a>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <img class="w-100 hero-small" src="{{ url_for('static', filename='assets/img/hero-small2.png') }}"
                    alt="Image">
                <img class="w-100 hero-big" src="{{ url_for('static', filename='assets/img/hero-big2.png') }}"
                    alt="Image">
                <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                    <div class="p-3" style="max-width: 900px;">
                        <h1 class="display-3 text-white mb-md-4">Promote & Elevate Your Brand</h1>
                        <a href="{{ url_for('register_business') }}" class="btn py-md-3 px-md-5 mt-2 btn-lg rounded"
                            style="background-color: #040450;color: white;">Get
                            Started</a>
                    </div>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#header-carousel" data-slide="prev">
            <div class="btn btn-dark" style="width: 45px; height: 45px;">
                <span class="carousel-control-prev-icon mb-n2"></span>
            </div>
        </a>
        <a class="carousel-control-next" href="#header-carousel" data-slide="next">
            <div class="btn btn-dark" style="width: 45px; height: 45px;">
                <span class="carousel-control-next-icon mb-n2"></span>
            </div>
        </a>
    </div>
</div>
<!-- Carousel End -->



<!-- Booking Start -->
<div class="container-fluid booking mt-5 pb-5">
    <div class="container pb-5">
        <div class="search-container shadow">
            <div class="row align-items-center" style="min-height: 60px;">
                <!-- On large screens (lg and above), the input takes 9 columns and the button takes 3 columns -->
                <!-- On smaller screens (sm and below), both take 12 columns, stacking on top of each other -->
                <div class="col-lg-12 col-md-12 mb-3 mb-lg-0">
                    <form action="{{ url_for('search_business') }}" method="get">
                        <input type="text" name="search_query"
                            placeholder="Search by category, business name, or shop number" required>
                        <button class="btn btn-primary btn-block" type="submit">Search</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>


<!-- Booking End -->

<!-- Feature Start -->
<div class="container-fluid pb-5">
    <div class="container pb-5">
        <div class="row">
            <div class="col-md-4">
                <div class="d-flex mb-4 mb-lg-0">
                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3"
                        style="height: 100px; width: 100px;">
                        <i class="fa fa-2x fa-chart-line text-white"></i>
                    </div>
                    <div class="d-flex flex-column">
                        <h5 class="">Business Growth</h5>
                        <p class="m-0">Accelerate your business with our expert strategies</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="d-flex mb-4 mb-lg-0">
                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3"
                        style="height: 100px; width: 100px;">
                        <i class="fa fa-2x fa-lightbulb text-white"></i>
                    </div>
                    <div class="d-flex flex-column">
                        <h5 class=""> Innovative Solutions</h5>
                        <p class="m-0">Empower your business with our modern approaches.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="d-flex mb-4 mb-lg-0">
                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3"
                        style="height: 100px; width: 100px;">
                        <i class="fa fa-2x fa-chart-bar text-white"></i>
                    </div>
                    <div class="d-flex flex-column">
                        <h5 class="">Market Expansion</h5>
                        <p class="m-0">Unlock new opportunities and reach wider audiences.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Feature End -->

<!-- Businesses Directory -->
<div class="container-fluid py-5">
    <div class="container pt-5 pb-3">
        <div class="text-center mb-3 pb-3">
            <h2 class="text-dark text-uppercase" style="letter-spacing: 20px;">Explore HFP Businesses</h2>
        </div>
        <div class="row" id="business-container">



            {% for business in businesses %}
            <div class="col-lg-4 col-md-4 col-sm-6 col-12 mb-4 store_hei business-item">
                <div class="package-item bg-white mb-2">
                    <!-- Media Section -->
                    {% if business[7] and business[8] %}
                    {% if business[7] == 'image' %}
                    <div class="image-container" style="overflow: hidden; height: 300px;">
                        <h6 class="m-0"><i class="fa fa-star text-primary mr-2"
                                style="position: absolute; text-shadow: 2px 2px 4px rgba(216, 216, 216, 0.5); background-color: #7AB730; color: #fff !important; padding: 5px;"><span>premier</span></i>
                        </h6>
                        <img src="{{ business[8] }}" alt="Business Image" class="img-fluid"
                            style="object-fit: cover; width: 100%; height: 100%;">
                    </div>
                    {% elif business[7] == 'video' %}
                    <div class="image-container" style="overflow: hidden; height: 300px;">
                        <h6 class="m-0"><i class="fa fa-star text-primary mr-2"
                                style="position: absolute; text-shadow: 2px 2px 4px rgba(156, 156, 156, 0.5); background-color: #7AB730; color: #fff !important; padding: 7px;"><span>premier</span></i>
                        </h6>
                        <video width="100%" height="100%" controls autoplay muted
                            style="object-fit: cover; width: 100%; height: 100%;">
                            <source src="{{ business[8] }}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    {% endif %}
                    {% else %}
                    <div class="image-container" style="overflow: hidden; height: 300px;">
                        {% if business[6] == true %}
                        <h6 class="m-0"><i class="fa fa-star text-primary mr-2"
                                style="position: absolute; text-shadow: 2px 2px 4px rgba(156, 156, 156, 0.5); background-color: #7AB730; color: #fff !important; padding: 7px;"><span>premier</span></i>
                        </h6>
                        {% endif %}
                        <a href="{{url_for('register_user')}}">
                        <img src="./static/img/dunis_placeholder.png" alt="Business Image"
                            class="img-fluid rounded" style="object-fit: cover; width: 100%; height: 100%;">
                        </a>
                    </div>
                    {% endif %}
                    <!-- Business Details -->
                    <div class="p-4">
                        <div class="d-flex justify-content-between mb-3">
                            <small class="m-0"><i class="fa fa-phone-alt text-primary mr-2"></i>{{ business[4]}}</small>
                            <small class="m-0"><i class="fa fa-store text-primary mr-2"></i>{{ business[11]}}</small>
                        </div>
                        <a class="h5 text-decoration-none"
                            style="display: flex !important; justify-content: center !important; font-weight: bold;"
                            href="{{url_for('register_user')}}">{{ business[2] }}</a>
                        <div class="border-top mt-4 pt-4">
                            <div class=""
                                style="display: flex !important; justify-content: center !important; align-items: center !important;">
                                <h6 class="m-0">
                                    <span><i class="fa fa-shield-alt text-primary mr-2"></i>Trust <small>[<span
                                                class="text-primary">{{business[2]}}</span>] for</small></span>

                                    <span style="display: flex; justify-content: center; margin-top: 3px;">{{
                                        business[11]}}</span>
                                </h6>
                            </div>
                        </div>
                        <!-- Claim Button -->
                        {% if business[1] is none %}
                        {% if session.get('user_logged_in') %}
                        <div class="text-center mt-3">
                            <a href="{{ url_for('claim_business', business_id=business[0]) }}"
                                class="btn btn-primary">Claim Business</a>
                        </div>
                        {% else %}
                        <div class="text-center mt-3">
                            <a href="{{ url_for('register_user') }}" class="btn btn-primary">Register Business</a>
                        </div>
                        {% endif %}
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<!-- Businesses Directory -->

<!-- JavaScript for rotating businesses -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const container = document.getElementById('business-container');
        const items = Array.from(container.getElementsByClassName('business-item'));

        function shuffleArray(array) {
            let currentIndex = array.length, randomIndex;

            while (currentIndex !== 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }

            return array;
        }

        function rotateBusinesses() {
            const shuffledItems = shuffleArray(items.slice()); // Create a shuffled copy of the items
            container.innerHTML = ''; // Clear current content
            shuffledItems.forEach(item => {
                container.appendChild(item); // Append items in shuffled order
            });
        }

        rotateBusinesses(); // Rotate businesses initially
        setInterval(rotateBusinesses, 15000); // Rotate every 15 seconds
    });
</script>





<div id="about"></div>

<!-- About Start -->
<div class="container-fluid py-5">
    <div class="container pt-5">
        <div class="row">
            <div class="col-lg-6" style="min-height: 500px;">
                <div class="position-relative h-100">
                    <img class="position-absolute w-100 h-100"
                        src="{{ url_for('static', filename='assets/img/about.png') }}" style="object-fit: cover;">
                </div>
            </div>
            <div class="col-lg-6 pt-5 pb-lg-5">
                <div class="about-text bg-white p-4 p-lg-5 my-lg-5">
                    <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">About Us</h6>
                    <h1 class="mb-3">Connecting Businesses and Customers</h1>
                    <p>Our mission is to create a seamless platform where businesses can showcase their offerings and
                        customers
                        can easily find what they need.</p>
                    <p><strong>The Best Directory for Your Business Needs:</strong>
                        We provide a comprehensive and user-friendly directory that helps businesses increase their
                        visibility
                        and reach more customers.</p>
                    <div class="row mb-4">
                        <div class="col-6">
                            <img class="img-fluid" src="img/about-1.jpg" alt="">
                        </div>
                        <div class="col-6">
                            <img class="img-fluid" src="img/about-2.jpg" alt="">
                        </div>
                    </div>
                    <a href="{{ url_for('register_business') }}" class="btn btn-primary mt-1">Get Started</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- About End -->



<!-- Registration Start -->
<div class="container-fluid bg-registration py-5" style="margin: 90px 0;">
    <div class="container py-5">
        <div class="row align-items-center">
            <div class="col-lg-7 mb-5 mb-lg-0">
                <div class="mb-4">
                    <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">Join Our </h6>
                    <h1 class="text-white"><span class="text-primary">Premium </span> Membership</h1>
                </div>
                <p class="text-white">Get featured at the top and attract more customers with exclusive ads, Discover
                    tailored solutions to boost your business success.</p>
                <ul class="list-inline text-white m-0">
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i>Browse businesses in various
                        categories from fashion to tech etc
                    </li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i>Register your business and reach a
                        wider audience effortlessly.</li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i>See how we’ve helped others achieve
                        their business goals.
                    </li>
                </ul>
                <a href="{{ url_for('register_business') }}" class="btn"
                    style="background-color: #040450;color: white;">Get Started</a>
            </div>

        </div>
    </div>
</div>
<!-- Registration End -->





<!-- Blog Start -->
<div class="container-fluid py-5">
    <div class="container pt-5 pb-3">
        <div class="text-center mb-3 pb-3">
            <h2 class="text-dark text-uppercase" style="letter-spacing: 20px;">New from the directory</h2>
        </div>
        <div class="row pb-3">
            <div class="col-lg-4 col-md-6 mb-4 pb-2">
                <div class="blog-item">
                    <div class="position-relative">
                        <img class="img-fluid w-100" src="img/blog-1.jpg" alt="">
                        <div class="blog-date">
                            <h6 class="font-weight-bold mb-n1">01</h6>
                            <small class="text-white text-uppercase">Jan</small>
                        </div>
                    </div>
                    <div class="bg-white p-4">
                        <div class="d-flex mb-2">
                            <a class="text-primary text-uppercase text-decoration-none" href=""></a>
                            <span class="text-primary px-2">|</span>
                            <a class="text-primary text-uppercase text-decoration-none" href="">Find Nearby Services</a>
                        </div>
                        <a class="h5 m-0 text-decoration-none" href=""> Explore and connect with businesses right in
                            your area.</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4 pb-2">
                <div class="blog-item">
                    <div class="position-relative">
                        <img class="img-fluid w-100" src="img/blog-2.jpg" alt="">
                        <div class="blog-date">
                            <h6 class="font-weight-bold mb-n1">01</h6>
                            <small class="text-white text-uppercase">Jan</small>
                        </div>
                    </div>
                    <div class="bg-white p-4">
                        <div class="d-flex mb-2">
                            <a class="text-primary text-uppercase text-decoration-none" href=""></a>
                            <span class="text-primary px-2">|</span>
                            <a class="text-primary text-uppercase text-decoration-none" href="">Easy Business
                                Registration</a>
                        </div>
                        <a class="h5 m-0 text-decoration-none" href="">Sign up and start promoting your business in
                            minutes.</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4 pb-2">
                <div class="blog-item">
                    <div class="position-relative">
                        <img class="img-fluid w-100" src="img/blog-3.jpg" alt="">
                        <div class="blog-date">
                            <h6 class="font-weight-bold mb-n1">01</h6>
                            <small class="text-white text-uppercase">Jan</small>
                        </div>
                    </div>
                    <div class="bg-white p-4">
                        <div class="d-flex mb-2">
                            <a class="text-primary text-uppercase text-decoration-none" href="">Admin</a>
                            <span class="text-primary px-2">|</span>
                            <a class="text-primary text-uppercase text-decoration-none" href="">Real Results from Real
                                Clients</a>
                        </div>
                        <a class="h5 m-0 text-decoration-none" href="">Read about how we’ve helped businesses
                            thrive.</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Blog End -->



{% endblock %}